{"version":3,"sources":["pms.js"],"names":["exports","module","Discourse","actionTypeEnum","prototype","createPrivateMessage","title","raw","target_usernames","callback","post","error","body","httpCode","getPrivateMessages","username","get","getUnreadPrivateMessages","getPrivateMessageThread","topic_id","getTopicAndReplies","getSentPrivateMessages","filter","NEW_PRIVATE_MESSAGE","getReceivedPrivateMessages","GOT_PRIVATE_MESSAGE","replyToPrivateMessage"],"mappings":"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","sourcesContent":["exports = module.exports = function(Discourse, actionTypeEnum) {\n\n  \"use strict\";\n\n  var actionTypeEnum = actionTypeEnum;\n\n  Discourse.prototype.createPrivateMessage = function(title, raw, target_usernames, callback) {\n    this.post('posts',\n      {\n        'title': title,\n        'raw': raw,\n        'target_recipients': target_usernames,\n        'archetype': 'private_message'\n      },\n      function(error, body, httpCode) {\n        callback(error, body, httpCode);\n      }\n    );\n  };\n\n  Discourse.prototype.getPrivateMessages = function(username, callback) {\n\n    this.get(\n      'topics/private-messages/' + username + '.json',\n      {},\n      function(error, body, httpCode) {\n        callback(error, body, httpCode);\n      });\n\n  };\n\n  Discourse.prototype.getUnreadPrivateMessages = function(username, callback) {\n\n    this.get(\n      'topics/private-messages-unread/' + username + '.json',\n      {},\n      function(error, body, httpCode) {\n        callback(error, body, httpCode);\n      });\n\n  };\n\n  Discourse.prototype.getPrivateMessageThread = function(topic_id, callback) {\n\n    this.getTopicAndReplies(topic_id, callback);\n\n  };\n\n  Discourse.prototype.getSentPrivateMessages = function(username, callback) {\n\n    this.get('user_actions.json',\n      {\n        username: username,\n        filter: actionTypeEnum.NEW_PRIVATE_MESSAGE\n      },\n      function(error, body, httpCode) {\n        callback(error, body, httpCode);\n      }\n    );\n\n  };\n\n  Discourse.prototype.getReceivedPrivateMessages = function(username, callback) {\n\n    this.get('user_actions.json',\n      {\n        username: username,\n        filter: actionTypeEnum.GOT_PRIVATE_MESSAGE\n      },\n      function(error, body, httpCode) {\n        callback(error, body, httpCode);\n      }\n    );\n\n  };\n\n  Discourse.prototype.replyToPrivateMessage = function(raw, topic_id, callback) {\n    this.post('posts', { 'raw': raw, 'topic_id': topic_id }, function(error, body, httpCode) {\n      callback(error, body, httpCode);\n    });\n  };\n\n};\n"],"file":"pms.js"}